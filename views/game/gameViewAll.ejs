<%- include("../includes/header.ejs", {title: "Games"}); %>
<%- include("../includes/style.ejs"); %>

<style type="text/css">
    .fade{
        opacity: 0.8;
        -webkit-transition: opacity 0.5s;
        -moz-transition: opacity 0.5s;
        -ms-transition: opacity 0.5s;
        -o-transition: opacity 0.5s;
        transition: opacity 0.5s;
    }
    .fade:hover{
        opacity:1;
        -webkit-transition: opacity 0.5s;
        -moz-transition: opacity 0.5s;
        -ms-transition: opacity 0.5s;
        -o-transition: opacity 0.5s;
        transition: opacity 0.5s;
    }
</style>

<div class="container">
    <h1>Games</h1>

    <table class="table-bordered">
        <th>Dev Name</th><th>Game Name</th><th>Rating</th>
        <% for(var i=0; result.length > i; i++ ) { %>
        <tr>
            <td><a href="/developer/?dev_name=<%= result[i].dev_name %>"><%= result[i].dev_name %></a></td>
            <td><a href="/game/?dev_name=<%= result[i].dev_name + "&game_name=" + result[i].game_name %>"><%= result[i].game_name %></a></td>
            <td style="text-align: center;"><%= result[i].rating %></td>
            <td>
                <a onclick="event.preventDefault();window.location.href='/game/edit/?dev_name=<%= result[i].dev_name %>&game_name=<%= result[i].game_name %>'" class="btn btn-success fade">Edit</a>
            </td>
            <td>
                <form action="/game/delete/" style="float: right;">
                    <input type="hidden" name="dev_name" id="dev_name" value="<%= result[i].dev_name %>" />
                    <input type="hidden" name="game_name" id="game_name" value="<%= result[i].game_name %>" />
                    <input class="btn-small btn-danger fade" type="submit" value="Delete"/>
                </form>
            </td>

        </tr>
        <% } %>
    </table>
    <br/>
    <a href="/game/add" class="btn btn-primary fade">Add Game</a>
</div>
<%- include("../includes/footer.ejs"); %>